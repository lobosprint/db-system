<div class="panel panel-default" ng-init="job=-1">
  <!-- Default panel contents -->
  <div class="panel-heading" ng-click="job=-1;" >Turnos All Jobs</div>
  <ul class="nav nav-pills nav-jobs">
    <li ng-click="job=-1; getAllTurnsByAdmin();" ng-class="{active:job==-1}"><a >All Jobs</a></li>
    <li  ng-click="job=1; getActiveTurns();" ng-show="secretario" ng-class="{active:job==1}"><a>Secretario</a></li>
    <li  ng-click="job=2; getActiveTurns();" ng-show="profesor" ng-class="{active:job==2}"><a>Profesor</a></li>
    <li  ng-click="job=3; getActiveTurns();"  ng-show="consejero" ng-class="{active:job==3}"><a>Consejero</a></li>
  </ul>

  <div class="panel-body" >
    <div class="table-responsive" ng-show="job==-1">
      <table class="table table-bordered"  >
        <tr>
          <th>RUM ID</th>
          <th>Nombre</th>
          <th>Job</th>
          <th>Acción</th>
        </tr>

        <tr ng-repeat="currentTurn in turns " >
          <td>{{currentTurn.student.rumId}}</td>
          <td>{{currentTurn.student.name+ currentTurn.student.middleName+currentTurn.student.lastName}}</td>
          <td> {{currentTurn.administrative.position.job.name}}</td>
          <td>
            <a ng-href="#/adminCurrentTurn" class="btn btn-success" ng-click="turnVariable.turnID=currentTurn.idTurn;"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Ver turno</a>
          </td>
        </tr>

      </table>
    </div>
    <div class="table-responsive" ng-show="job>-1">
      <table class="table table-bordered"  >

        <tr>
          <th>RUM ID</th>
          <th>Nombre</th>
            <th>Area</th>
          <th>Acción</th>
        </tr>

        <tr ng-repeat="currentTurn in turns " ng-show="currentTurn.administrative.position.job.idJob==job" >
          <td >{{currentTurn.student.rumId}}</td>
          <td>{{currentTurn.student.name+ currentTurn.student.middleName+currentTurn.student.lastName}}</td>
            <td>{{currentTurn.administrative.position.area.name}}</td>
          <td>
            <a ng-href="#/adminCurrentTurn" class="btn btn-success" ng-click="turnVariable.turnID=currentTurn.idTurn;"><span class="glyphicon glyphicon-eye-open" aria-hidden="true"></span> Ver turno</a>
          </td>
        </tr>

      </table>

    </div>
  </div>
  </div>


<script type="text/javascript">
  if(!localStorage.getItem('user') || !localStorage.getItem('id') || localStorage.getItem('role') != 'administrative') {
    document.write('<h1>No tienes permiso para ver el contenido.</h1>');
    window.stop();
  }


  $('.admin-home').removeClass('active');
  $('.admin-turns').addClass('active');
  $('.historial').removeClass('active');
</script>
